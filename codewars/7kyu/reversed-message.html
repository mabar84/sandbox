<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>reversed-message</title>
  </head>
  <body>
    Reverse a message so that the words and letters passed into it are made lower case and reversed. In addition, capitalise the first letter of the newly
    reversed words. If a number or symbol(!#,>) is now in the first position of the word, no capitalisation needs to occur. Example: reverseMessage('This is an
    example of a Reversed Message!'); Returns: '!egassem Desrever A Fo Elpmaxe Na Si Siht'

    <script>
      let str = "This is an example of a Reversed Message!";
      // str = "";

      //   let str = '!egassem Desrever A Fo Elpmaxe Na Si Siht';
      function reverseMessage(str) {
        if (str.length) {
          let arr = str.toLowerCase().split(" ");
          let b = arr.map((word) => {
            let el = word.split("").reverse();
            if (el[0].charCodeAt() > 96 && el[0].charCodeAt() < 123) {
              el[0] = String.fromCharCode(el[0].charCodeAt() - 32);
            }
            return el.join("");
          });

          return b.reverse().join(" ");
        } else {
          return "";
        }
      }
      console.log(reverseMessage(str));

      // return s.toLowerCase().split``.reverse().join``.replace(/( |^)./g,m=>m.toUpperCase())
    </script>
  </body>
</html>
